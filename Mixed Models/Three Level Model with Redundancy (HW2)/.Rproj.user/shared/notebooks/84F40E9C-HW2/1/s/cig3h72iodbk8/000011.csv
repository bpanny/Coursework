"0","missing_egfr <- egfr_wide %>% "
"0","  group_by(surgery) %>% "
"0","  summarise(na_time_0 = sum(is.na(visit_0)) / n(),"
"0","            na_time_12 = sum(is.na(visit_12)) / n(),"
"0","            na_time_24 = sum(is.na(visit_24)) / n(),"
"0","            na_time_36 = sum(is.na(visit_36)) / n()) %>% "
"0","  pivot_longer(cols = contains(""na_time""),"
"0","               names_to = ""time"","
"0","               values_to = ""prop_missing"") %>% "
"0","  mutate(time = as.numeric(substr(time, 9, 12))) %>% "
"0","  ungroup()"
"0",""
"0","avg_egfr <- egfr %>%"
"0","  group_by(surgery, time) %>% "
"0","  summarise(avg = mean(egfr, na.rm = TRUE)) %>% "
"0","  ungroup()"
"2","`summarise()` has grouped output by 'surgery'. You can override using the `.groups` argument."
"0","avg_and_missing_egfr <- missing_egfr %>% "
"0","  left_join(avg_egfr, by = c(""surgery"", ""time"")) %>%"
"0","  pivot_longer(cols = c(""avg"", ""prop_missing""),"
"0","               names_to = ""value_type"","
"0","               values_to = ""value"")"
"0",""
"0","avg_and_missing_egfr %>% "
"0","  ggplot(aes(x = time, y = value, color = factor(surgery)))+"
"0","  geom_point()+"
"0","  geom_line()+"
"0","  facet_wrap(~value_type, scales = ""free_y"")"
