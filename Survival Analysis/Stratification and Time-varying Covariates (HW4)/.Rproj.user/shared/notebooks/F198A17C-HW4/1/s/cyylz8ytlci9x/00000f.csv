"0","act$cd4.mfp <- (act$cd4 + 0.2)/100"
"0","# compute quartile and each mid-point"
"0","cd4.mfp.q <- quantile(act$cd4.mfp)"
"0","cd4.mfp.q.diff <- cd4.mfp.q[-1] - cd4.mfp.q[-5]"
"0","cd4.mfp.q.mid <- cd4.mfp.q[-5] + 0.5*cd4.mfp.q.diff"
"0","cd4.mfp.q.mid <- c(cd4.mfp.q.mid[1],cd4.mfp.q.mid[-1]+0.5)"
"0","act$cd4.mfp.c<-cut(act$cd4.mfp,cd4.mfp.q)"
"0",""
"0","fit.cd4.mfp.c <- coxph(Surv(time/365.25, censor)~ cd4.mfp.c + tx + karnof, data = act)"
"0","fit.cd4.mfp.c"
"1","Call:
"
"1","coxph(formula = Surv(time/365.25, censor) ~ cd4.mfp.c + tx + 
"
"1","    karnof, data = act)
"
"1","
"
"1","                      "
"1","     coef"
"1"," exp(coef)"
"1"," se(coef)"
"1","      z"
"1","        p"
"1","
cd4.mfp.c(0.232,0.747]"
"1"," -0.59365"
"1","   0.55231"
"1","  0.23997"
"1"," -2.474"
"1"," 0.013366"
"1","
cd4.mfp.c(0.747,1.37] "
"1"," -1.35702"
"1","   0.25743"
"1","  0.33898"
"1"," -4.003"
"1"," 6.25e-05"
"1","
cd4.mfp.c(1.37,3.92]  "
"1"," -2.38061"
"1","   0.09249"
"1","  0.52240"
"1"," -4.557"
"1"," 5.19e-06"
"1","
tx                    "
"1"," -0.61507"
"1","   0.54061"
"1","  0.21664"
"1"," -2.839"
"1"," 0.004524"
"1","
karnof80              "
"1"," -0.55540"
"1","   0.57384"
"1","  0.36460"
"1"," -1.523"
"1"," 0.127679"
"1","
karnof90              "
"1"," -1.28619"
"1","   0.27632"
"1","  0.36318"
"1"," -3.542"
"1"," 0.000398"
"1","
karnof100             "
"1"," -1.69067"
"1","   0.18440"
"1","  0.40561"
"1"," -4.168"
"1"," 3.07e-05"
"1","
"
"1","
"
"1","Likelihood ratio test="
"1",""
"1","96.56"
"1",""
"1","  on "
"1",""
"1","7"
"1",""
"1"," df,"
"1",""
"1"," p="
"1",""
"1","< 2.2e-16"
"1",""
"1","
"
"1","n="
"1"," "
"1","1131"
"1",", number of events="
"1"," "
"1","94"
"1"," "
"1","
"
"1","   ("
"1",""
"1","20 observations deleted due to missingness"
"1",""
"1",")
"
"0","cd4.mfp.c.beta <- fit.cd4.mfp.c$coeff[1:3]"
"0",""
"0","# Plot to examine the linearity assumption"
"0","plot(x = cd4.mfp.q.mid, y=c(0,cd4.mfp.c.beta), xlab=""cd4.mfp"", ylab=""Estimated Log Hazard"",pch=19)"
